class Solution {
public:
    int largestRectangleArea(vector<int>& heights) {
        int n = heights.size();
        int area = heights[0];

        if (n == 1)
            return area;

        for (int i = 0, j = 1; i <= n - 2, j <= n - 1; i++, j++) {
            int curr =
                heights[i] < heights[j] ? heights[i] * 2 : heights[j] * 2;
            area = max(area, curr);
        }

        return area;
    }
};